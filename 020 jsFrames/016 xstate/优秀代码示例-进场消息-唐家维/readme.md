## 状态机在K歌项目中的实践

### 目的
这次实践的目的是为了检验状态机编程能否运动到React项目中，并且降低复杂组件的开发和调试难度。

从实验的结果来看：
- 状态机能很好的React生态衔接
- 有效提高了代码的可读性
- 降低了开发难度
- 降低了调试的难度
- 非常适合开发复杂交互组件
- 消除了大量难以理解的if判断条件

### 功能需求
![userJoin](/图片&#32;1.png)
![userJoin](/图片&#32;2.png)

### 使用流程图实现

流场图实现版本：UserJoin.js

可以发现代码中出现了大量条件判断语句，并且这些条件的组合并不是唯一的，每个开发人员可以更具自己偏好组合这些条件。

这些判断条件组合在一起后意义并不清晰，对于后期功能迭代极其不利。

### 使用状态机实现

流场图实现版本：UserJoinXState.js

状态机实现了相同的功能，但是代码中没有任何if判断。

每一步的状态转移的意义都很清晰。

集中式打印日志，方便调试。

后期功能迭代只需要改变状态转移关系，或者增加状态，无需考虑复杂的判断条件，心智负担小。